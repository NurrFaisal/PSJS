<script>
  function decodeString(str) {
    let multiply = []; //[3, 2, ]
    let tempMulti = "";
    let repeatStr = []; // []
    let solution = ""; // c
    //3[a2[c]]
    for (let i = 0; i < str.length; i++) {
      let char = str[i];
      if (!isNaN(char)) {
        tempMulti = `${temp}${char}`;
      } else if (char == "[") {
        multiply.push(temp);
        temp = "";

        repeatStr.push(solution);
        solution = "";
      } else if (char == "]") {
        //a + 2(c) = acc
        solution = repeatStr.pop() + solution.repeat(multiply.pop());
      } else {
        solution += char;
      }
    }
    return solution;
  }
</script>

<script>
  function decodeStringV2(str) {
    //3[a2[c]]
    let solution = "";
    let temp = "";
    let numMulti = [];
    let strMulti = [];
    for (let i = 0; i < str.length; i++) {
      let char = str[i];
      if (!isNaN(char)) {
        temp = `${temp}${char}`;
      } else if (char == "[") {
        numMulti.push(temp);
        temp = "";

        strMulti.push(solution);
        solution = "";
      } else if (char == "]") {
        solution = strMulti.pop() + solution.repeat(numMulti.pop());
      } else {
        solution += char;
      }
    }
    return solution;
  }
  var str = "3[a2[c]]";
  console.log(decodeStringV2(str));
</script>
